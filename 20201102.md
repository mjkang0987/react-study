**20201102-섹션4.리액트 내장훅**

## React Hook

### useReducer
- 여러개의 상태값을 하나의 훅으로 관리할 때 편리하게 사용
- useState와 비슷하다
- 상태값을 변경하는 로직 분리가 가능한 것이 장점이다.
  - 보통 상위 컴포넌트에서 다수의 상태값을 관리한다.
- 자식 컴포넌트에서 발생한 이벤트로 상위 컴포넌트의 상태값을 변경하는 경우가 많다.
  - 상위 컴포넌트에서 트리 깊은 곳까지 이벤트 처리 함수를 전달하기도 한다.
- useReducer + useContext 활용하면 트리의 깊은 곳으로 이벤트 처리함수를 쉽게 전달할 수 있다.
  - useReducer로 상태값 관리
  - ContextAPI로 상태값이나 dispatch 함수를 내려주는 패턴

### useImperativeHandle
- 클래스형 컴포넌트의 부모 컴포넌트는 ref 객체를 통해 자식 컴포넌트에 메소드를 호출할 수 있다.
- 자식 컴포넌트의 내부 구현에 대한 의존성이 생기므로 지양하는게 맞다. 하지만 필요한 경우가 있다.
  - 이럴 때 useImperativeHandle Hook을 사용하면 함수형 컴포넌트에도 멤버변수/함수가 있는 것 처럼 만들 수 있다.

### useLayoutEffect
- useEffect Hook 부수효과 함수는 랜더링 결과가 돔에 반영된 후에 비동기로 호출된다.
- useLayoutEffect 훅은 useEffect 훅과 비슷하게 동작한다.
  - 부수효과 함수를 동기로 호출한다는 점이 다르다.
- 랜더링 결과가 돔에 반영된 직후 바로 호출된다.
- 부수효과 함수에서 연산을 많이 하면 브라우저가 먹통이 될 수도 있다.
- 특별한 이유가 없다면 useEffect Hook을 사용하는 것이 좋다.
- useLayoutEffect 실행 시점
  - 리액트가 랜더링 -> 실제돔 반영 -> 브라우저 화면그리기 전 useLayoutEffect 실행

#### useLayoutEffect 사용하는 경우
- 랜더링 직후에 돔 요소의 값을 읽어들이는 경우
- 조건에 따라서 컴포넌트를 다시 랜더링 하고싶은 경우

### useRef
- 돔 요소를 참조할 때만 사용하는 것은 아니다
- 랜더링(UI)와 관계없는 값을 저장할 때 useRef 유용하게 사용한다
- useState로 관리 가능하긴하나, 적합하지 않다.
  - useState로 관리할 경우 업데이트 됐을 때 랜더링이 다시 된다. 하지만 UI 데이터가 아니므로 랜더링 결과는 같다.
  - 불필요한 랜더링만 발생하게된다.
- 이전 상태값을 기억하고 싶을 때 ref 객체를 활용

### useDebugValue
- custome hook 내에서 useDebugValue를 사용하면 개발자도구에 좀 더 풍부한 정보를 제공해줄 수 있다.
- 리액트 개발자 도구에서 디버깅할 떄 편리하다.

### 메모이제이션 기능 제공 Hook
- 메모이제이션 기능 제공
- 이전값 재활용 가능

#### useMemo
- 계산량 많은 함수 반환값을 재활용하는 용도로 사용
  - 첫 번째 매개변수 - 함수
  - 두 번째 매개변수 - 배열(의존성 배열)
  - 두 번째 매개변수 = 의존성 배열

#### useCallback
- useMemo 훅과 비슷
- 함수 메모이제이션 특화
- 함수를 속성값으로 전달할 대 컴포넌트 랜더링때마다 새로운 함수가 생성된다.
- 컴포넌트가 랜더링 될 떄 마다 속성값 변경으로 자식 컴포넌트에서 함수 내용 변경이 없음에도 새로운 속성값을 입력받는다.
- 불필요한 랜더링이 발생한다.
- `usseCallback`도 의존성 배열로 관리
