**20201031-섹션4.ref 속성값으로 자식 요소 접근하기**

## ref
- 실제 돔 요소에 접근해야 하는 경우에 사용한다.
  - ex) focus, 돔의 크기, 스크롤 위치를 알고싶은 경우에 사용한다.
  
### useRef Hook
- 반환 값을 원하는 요소에 `ref={속성값}`으로 사용
- 컴포넌트, 돔 모두 사용 가능
```jsx
const inputRef = useRef();
useEffect(() => {
  /*
    실제 돔이 만드러진 이후에 접근해야하므로,
    부수효과 함수 내부에서만 접근 가능하다.
    ${ref}.current. = 현재 돔/컴포넌트를 가리킨다.
  */
  inputRef.currnt.focus();
})
```

#### 클래스형 컴포넌트
- 클래스형 컴포넌트의 경우 해당 컴포넌트의 인스턴트를 가리킨다
  - 해당 클래스의 매소드를 호출할 수 있다.
  
#### 함수형 컴포넌트
- 함수형 컴포넌트에서 `useImperativeHandle` 사용 시 메서드에 접근하는 것처럼 함수형 컴포넌트 내부의 변수/함수를 외부로 노출 가능하다.
- 별다른 처리를 하지 않았다면 컴포넌트에 ref 속성값을 입력할 수 없다.
  - 함수형 컴포넌트 생성 시 ref를 받아와야 한다.

#### 직관적 사용
- 직관적/기초적 컴포넌트를 만들어 사용하는 경우 ref로 작성 가능
  - `ref={속성값}`으로 작성할 경우 리액트가 자체적으로 처리
  - 내부 컴포넌트에서 값을 사용할 수 없다.
  - `forwordRef` 함수를 사용한다.

##### forwordRef
- 두 번재 매개변수를 ref를 받아온다.
  - ref라는 변수가 사용 가능하다.
- ref라는 이름을 받기 위해서는 사용자가 어떤 요소의 레퍼런스인지 정확하게 인식할 수 있어야 한다.
  - 불분명할 경우 ref 대신 인자로 받아온다.
- 
```jsx
const App = () => {
  return (
    <div>
      <Button ref={buttonRef} />
    </div>
  );
}

const Button = React.forwordRef(({onClick}, ref) => {
  return (
    <button
      onClick={onClick}
      ref={ref}>
      버튼
    </button>
  )
})
```

### ref 함수 입력
- useRef Hook을 사용하지 않고 ref 속성 값에 함수 입력이 가능하다.
  - 해당 요소가 생성/삭제될 경우 한 번씩 호출된다.
  - 생성될 때 = 해당하는 요소의 레퍼런스
  - 사라질 때 = `null`
- ref 속성 값으로 새로운 함수가 들어오면 이전 함수에 `null` 인수를 넣어서 호출한다.
  - 새로운 함수에는 요소의 참조값을 넣어서 다시 호출한다.


### 주의사항
- ref 객체에 current 속성이 없을 경우 current 속성 검사하는 조건부 랜더링 필수